/*! power-polygon 2013-06-28 */
window.PPW=function(a,b,c){"use strict";if(window.PPW)throw new Error("PowerPolygon framework already loaded!");if(!a)throw c.warn("[PPW] Dependency required!"),alert("ERROR:\nMissing dependency:\n    - jQuery"),window.PPW={init:function(){},extend:function(){},addAction:function(){},addListener:function(){},animate:function(){},onSlideEnter:function(){},onSlideExit:function(){},cons:{fs:{}}},new Error("!\n[PPW] The only dependency Power Polygon has is jQuery! Please insert a jQuery script into your page before including ppw.js!\n\n");if(!window.console){var d=function(){return!1};window.console={log:d,warn:d,error:d}}!function(a){var b=a.getScript;a.getScript=function(c,d){"string"==typeof c&&(c=[c]);for(var e=c.length,f=function(){h++},g=[],h=0,i=0;e>i;i++)g.push(b(c[i],f));a.when.apply(null,g).then(function(){d&&d()})}}(a),a.browser||function(){var b=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}}(navigator.userAgent),c={};b.browser&&(c[b.browser]=!0,c.version=b.version),c.chrome?c.webkit=!0:c.webkit&&(c.safari=!0),jQuery.browser=a.browser=c}();var e=this,f="2.0.0",g={},h={},i={mode:"presentation",loadSteps:0,curLoaded:0,showingCamera:!1,showingMessage:!1,remoteControl:!1,messagesQueue:[],preloadedSlidesCounter:0,cameraLoaded:!1,isMobile:!1,presentationTool:null,currentLang:"en",profiles:{},slidesLoaded:!1,themeLoaded:!1,fontSize:100,testingResolution:!1,currentZoom:1,currentRotate:0,locked:!1,zoomMax:40,currentSlide:0,presentationStarted:!1,inThumbsMode:!1,defaultRemoteServer:location.protocol+"//"+location.host,prevStyle:{margin:"0px",padding:"0px",width:"100%",height:"100%",position:"absolute",top:"0px",left:"0px"},animations:["flash","shake","bounce","tada","swing","wobble","wiggle","pulse","flip","flipInX","flipInY","fadeIn","fadeInUp","fadeInDown","fadeInLeft","fadeInRight","fadeInUpBig","fadeInDownBig","fadeInLeftBig","fadeInRightBig","bounceIn","bounceInDown","bounceInUp","bounceInLeft","bounceInRight","rotateIn","rotateInDownLeft","rotateInDownRight","rotateInUpLeft","rotateInUpRight","lightSpeedIn","rollIn","flipOutX","flipOutY","fadeOut","fadeOutUp","fadeOutDown","fadeOutLeft","fadeOutRight","fadeOutUpBig","fadeOutDownBig","fadeOutLeftBig","fadeOutRightBig","bounceOut","bounceOutDown","bounceOutUp","bounceOutLeft","bounceOutRight","rotateOut","rotateOutDownLeft","rotateOutDownRight","rotateOutUpLeft","rotateOutUpRight","lightSpeedOut","hinge","rollOut"],defaults:{duration:50,alertAt:[30,40],theme:"thm-default",transition:"trans-slider",directionalIconsStyle:"chevron",slideType:"content",slideTitleSize:40,containerID:"ppw-slides-container"},cons:{CLASS_SLIDE:"ppw-slide-element",CLASS_ACTIVE_SLIDE:"ppw-active-slide-element",CLASS_ACTIVE_SLIDE_CONT:"ppw-active-slide-element-container",CLASS_PREVIOUS_SLIDE:"ppw-previous-slide-element",CLASS_PREVIOUS_SLIDE_CONT:"ppw-previous-slide-element-container",CLASS_NEXT_SLIDE:"ppw-next-slide-element",CLASS_NEXT_SLIDE_CONT:"ppw-next-slide-element-container",CLASS_FULLSCREEN:"ppw-fullscreen",FOCUSABLE_ELEMENT:"ppw-focusable",CLICKABLE_ELEMENT:"ppw-clickable",fs:{SLIDE_ID_DIR:"slides/%id/index.html",SLIDE_ID_DIR_ID:"slides/%id/%id.html",SLIDE_ID_FILES:"slides/%id.html",SLIDE_ID_MIXED:"%id.html",SLIDE_NUM_DIR:"slides/%num/index.html",SLIDE_NUM_FILES:"slides/%num.html",SLIDE_NUM_MIXED:"%num.html"}}},j={help:"<h3>Help</h3>                  Website: <a href='http://powerpolygon.com' target='_blank'>powerpolygon.com</a><br/>                  Forum/Discussion group: <a href='https://groups.google.com/forum/#!forum/powerpolygon' target='_blank'>forum/powerpolygon</a><br/>                  Documentation: <a href='https://github.com/braziljs/power-polygon/wiki' target='_blank'>wiki</a><br/>                  Fork me: <a href='https://github.com/braziljs/power-polygon' target='_blank'>Github</a><br/>                  <br/><br/>                  <b>Shortcuts</b><br/>                  ALT: Go to slide<br/>                  ALT+F: Search into slides<br/>                  ALT+Space: Show slides thumbnails<br/>                  : Applies zoom in and out<br/>                  F6, F7, F8, F9, F10: Custom",loading:"<div id='ppw-lock-loading' style='position: absolute; left: 0px; top: 0px; width: 100%; height: 100%; background: #dadada url(/ppw/_images/ppw-gray-bg.png); padding: 10px; font-family: Arial; z-index: 999999999;'>                            <div class='ppw-loadingbarContainer' style='width: 264px; margin: auto; text-align: center; margin-top: 60px; font-family: sans-serif, arial, tahoma !important; font-size: 16px !important;'><span>Loading Power Polygon</span><br/><div id='ppw-loadingbarParent'><div/><div id='ppw-loadingbar'><div/></div></div>",slideNotFound:"<h4 style='font-size: 22px;'>Failed loading slide <span class='ppw-slide-fail'>{{slideid}}</span>!</h4>                            <div class='ppw-slide-fail-help' style='font-size:13px;'>Please verify the slide id.<br/>Power Polygon looks for the slide's content following these rules:<br/>                            <br/>* A section element on the page, with the given id:<br/>Eg.: &lt;section id='{{slideid}}'>Your content&lt;/section><br/>                            <br/>* A file in the fsPattern location.<br/>Currently looking at: <span class='ppw-slide-fail'>{{addr}}</span><br/><br/>                            The content could not be found in any of these expected places!</div>",arrows:"<div id='ppw-arrows-container' class='ppw-clickable'><div id='ppw-arrow-previous-slide' onmousedown='if(!PPW.isLocked()) PPW.goPrev();'><i class='icon-{{directionaliconsstyle}}-left'></i></div><div id='ppw-arrow-next-slide' onmousedown='if(!PPW.isLocked()) PPW.goNext();'><i class='icon-{{directionaliconsstyle}}-right'></i></div></div>",searchTool:"<div id='ppw-search-container'><div style='float: left;'>Search into slides:</div>                         <div style='float: right;'><input type='search' id='ppw-search-slide' value='' placeholder='Search' />                         <div id='ppw-search-arrow-container' class='ppw-clickable'><div id='ppw-search-prev' class='ppw-clickable' title='Find in previous slides(shift+enter)'><i class='icon-{{directionaliconsstyle}}-left'></i></div><div id='ppw-search-next' class='ppw-clickable' title='Find in next slides(enter)'><i class='icon-{{directionaliconsstyle}}-right'></i></div></div></div><div id='ppw-search-found' class='ppw-clickable'></div></div>",messages:'<div id="ppw-message-box"  class="ppw-clickable ppw-platform">                        <div id="ppw-message-content" class="ppw-clickable"></div>                        <div id="ppw-message-box-ok-button" class="ppw-clickable">                            <input type="button" id="ppw-message-box-button" value="Close" />                        </div>                      </div>',camera:'<div id="ppw-camera-tool" class="ppw-clickable">                        <video id="ppw-video-element" autoplay="autoplay" class="ppw-clickable"></video>                        <div id="ppw-camera-hide-trigger" class="ppw-clickable">                            <img height="10" class="ppw-clickable" src="">                        </div>                      </div>',toolBar:'<div id="ppw-toolbar-container" tabindex="0" class="ppw-platform {{clickableClass}}">                    <div id="ppw-toolbar" class="ppw-platform {{clickableClass}}">                        <div class="img"><img id="ppw-goto-icon" onclick="PPW.showGoToComponent(false);" title="Go to a specific slide" /></div>                        <div class="img"><img id="ppw-toolbox-icon" onclick="PPW.openPresentationTool();" title="Open Presentation Tool" /></div>                        <div class="img"><img id="ppw-search-icon" onclick="PPW.showSearchBox()" title="Search on slides"/></div>                        <div class="img"><img id="ppw-fullscreen-icon" onclick="PPW.enterFullScreen()" title="Go Fullscreen"/></div>                        <div class="img"><img id="ppw-camera-icon" onclick="PPW.toggleCamera();" title="Start the camera"/></div>                        <div class="img"><img id="ppw-remote-icon" onclick="PPW.enableRemote();" title="No remote server found"/></div>                        <div class="img"><img id="ppw-settings-icon" onclick="PPW.showConfiguration();" title="Settings"/></div>                    </div>                    <div id="ppw-content-toolbar" class="ppw-platform">                        <span id="ppw-ct-text-small" title="Smaller fonts" onclick="PPW.smallerFonts();">A</span>                        <span id="ppw-ct-text-big" title="Bigger fonts" onclick="PPW.biggerFonts();">A</span>                        <img id="ppw-ct-thumbs" onclick="PPW.showThumbs();" title="Show thumbnails"/>                        <img id="ppw-ct-print" onclick="PPW.print();" title="Print or save as PDF(alt+P)"/>                        <div id="ppw-presentation-social-buttons">                            <div class="fb-like" data-href="{{likeSrc}}" data-send="false" data-width="450" data-show-faces="false"></div>                            <span class="gp-button"><div class="g-plusone" data-size="medium" data-annotation="none" data-href="{{likeSrc}}"></div></span>                        </div>                    </div>                   </div>',settings:"<form id='ppw-settings-form'>                    <h3>Settings</h3><br/>                    <label>Enable shortcuts: </label><input type='checkbox' id='ppw-shortcutsEnable' {{shortcuts}} /><br/>                    <label>Duration: </label><input type='integer' id='ppw-talk-duration' value='{{duration}}' /><br/>                    <label>Alert at: </label><input type='string' id='ppw-alert-at' value='{{alerts}}'placeholder='Comma separated minutes' /><br/>                    <div id='ppw-profile-config'><label>Profile: </label><select id='ppw-profile-option'></select></div><br/>                    <div id='ppw-languages-config'><label>Language: </label><select id='ppw-language-option'></select></div><br/>              </form>"},k={PPWSrc:"",hashSeparator:"#",currentPath:"",shortcutsEnable:!0,friendlyURL:"id",useSplashScreen:!0,slidesContainer:b.createElement("div"),theme:i.defaults.theme,transition:i.defaults.transition,directionalIconsStyle:i.defaults.directionalIconsStyle,fsPattern:i.cons.fs.SLIDE_ID_DIR_ID,alertAt:i.defaults.alertAt,duration:i.defaults.duration,useToolBar:!0,showBatteryAlerts:!0,showOfflineAlerts:!0,useArrows:!1,useOnlyArrows:!1,slidesCache:!0,preloadImages:!1,profile:"none",fixTransformsOnSlideChange:!0,zoomOnScroll:!0,slidesPerPage:1,verbose:9,remote:!0,applyZoomTo:!1,Facebook:!0,Google:!0,fixAnchorScroll:!0},l=a(b),m=null,n=null,o=location,p=navigator,q=history,r=window,s={onstart:[],onfinish:[],onload:[],onnext:[],onprev:[],onslidesloaded:[],onslideloaded:[],ongoto:[],onresize:[],onslidechange:[],onfullscreen:[],onshowcamera:[],onhidecamera:[],onslidetypechange:[],onpresentationtoolloaded:[],onclosesettings:[],onopensettings:[],onthemeloaded:[],onsplashscreen:[],onshowthumbs:[],onbeforeshowthumbs:[],onhidethumbs:[],onlock:[],onunlock:[],onlangchange:[],onextend:[],F10_PRESSED:[],F9_PRESSED:[],F8_PRESSED:[],F7_PRESSED:[],F6_PRESSED:[],ESC_PRESSED:[]},t=function(a){return a?(s[a]?c.warn("[PPW] Extension '"+this.extensionId+"' is trying to create an existing event listener("+a+")"):(s[a]=[],s[a].createdByExtensionId=this.extensionId),void 0):(c.warn("[PPW] To create a listener, the parameter with its name must be given."),!1)},u=function(a,b){s[a]&&s[a].push(b)},v=function(a){return a.preventDefault(),a.stopPropagation(),!1},w=function(a,b){var c=0,d=null;if(d=s[a]){c=d.length;do d[c]==b&&(d[c]=!1);while(c--)}},x=function(a){return!isNaN(a)},y=function(a,b){var d=0,e=null;if(e=s[a]){d=e.length;try{do e[d]&&e[d](b);while(d--)}catch(f){c.warn("[PPW][Event Callback error]: ",f.message,f)}}},z=function(b,d){var e=null;h[b]=d;for(e in d)s[e]&&"function"==typeof d[e]&&u(e,d[e]);if(d.onextend&&"function"==typeof d.onextend)try{d.onextend(a.extend({},k,{createListener:t,extensionId:b,triggerEvent:y}))}catch(f){c.warn("[PPW] Addon error: failed executing the onextend listener for "+b,d,f)}},A=function(){var a=k.shortcuts,b=null;for(b in a)"function"==typeof a[b]&&s[b+"_PRESSED"]&&u(b+"_PRESSED",a[b])},B=function(c){var d={title:b.title,authors:[],transition:i.defaults.transition,directionalIconsStyle:i.defaults.directionalIconsStyle,theme:i.defaults.theme},e=0,f=0,g=[];return c&&(d=a.extend(d,c)),d.slides=[],g=a("body>section"),f=g.length-1,g.each(function(){this.id||(this.id="slide-"+e),d.slides.push({type:0===e?"opening":e==f?"closing":"content",id:this.id}),e++}),d},C=function(){return o.href.indexOf("ppw-printing-version=true")>=0},D=function(b){if(!a)return!1;if("object"!=typeof b)return b?(a.ajax({url:b,dataType:"json",success:function(a){D(a)},error:function(a,b,d){alert("[PPW] Error loading the init() configuration manifest!\nThere must be an erron on the json or the file was not found!\nCheck the console for more details."),c.error("[PPW] Error loading the init() configuration manifest! ",a,b,d,"Please, verify if your json has no single quoted properties or if there is any comment on it!")}}),void 0):(D(B()),void 0);if(!b.slides)return D(B(b)),void 0;switch(a.extend(k,b),k.canonic=o.pathname.replace(/(\?|\&).*/,"").replace(/(\/index\.[a-zA-Z0-9]*)|(\/$)/,"").replace(/\ /gi,"-").split("/").pop(),k.verbose){case 0:case!1:c.log=function(){},c.warn=function(){},c.error=function(){};break;case 1:c.log=function(){},c.warn=function(){};break;case 2:c.log=function(){};break;case 3:c.warn=function(){},c.error=function(){}}k.mode&&E(k.mode),k.shortcutsEnable&&!C()&&A(),y("onload",b)},E=function(a){switch(a){case"page":k.hashSeparator="#!",k.remote=!1,k.usetToolBar=!1,k.useSplashScreen=!1,k.useGlobalFooter=!0,k.mode="page"}},F=function(b){i.curLoaded++;var d=100*i.curLoaded/i.loadSteps;d>=100&&(d=100),a("#ppw-loadingbar").css({width:d+"%"}),b&&c.log("[PPW] Loaded: ",b),d>=100&&(y("onthemeloaded",k.themeSettings),k.preloadImages>>k.useSplashScreen?setTimeout(function(){a("#ppw-lock-loading").find("span").eq(0).html("Loading images..."),qb(function(){cb(a("#ppw-loadingbar").stop().css("width","1%"))})},400):k.useSplashScreen?a("#ppw-lock-loading").fadeOut():qb(function(){a("#ppw-lock-loading").fadeOut()}))},G=function(a){for(var b,c=new RegExp("(?:\\?|&)"+a+"=(.*?)(?=&|$)","gi"),d=[];null!=(b=c.exec(o.search));)d.push(b[1]);return d.length?d[0]:!1},H=function(a){var c=k.PPWSrc;if(c)c=k.PPWSrc+"/"+a;else{for(var d="../",e="ppw.js",f=null,g=b.getElementsByTagName("script"),h=g.length,i=0;h>i&&(f=g[i].src.split("/"),f.pop()!=e);i++);var j=b.location.href.split("/").slice(0,-1);h=f.length;for(var i=0;h>i&&f[i]===j[i];i++);c=f.splice(i).join("/")+"/"+a,h=j.length-i;for(var i=0;h>i;i++)c=d+c;k.PPWSrc=c.replace(a,"")}return c.replace(/\/\//g,"/")},I=function(){return H("")},J=function(b,c,d){c&&i.loadSteps++,a.getScript(b,d||function(){})},K=function(a,b,c){for(var d=a.length,e=0;d>e;e++)J(H(a[e]),b,c)},L=function(a,b,c,d){for(var e=b.length,f=0;e>f;f++)J(H("/_themes/"+a+"/"+b[f]),c,d)},M=function(d,e,f,g){if(e&&i.loadSteps++,g?a("head").append(a("<link rel='stylesheet' href='"+d+"' type='text/css' media='screen' />").bind("load",f)):a("<link/>",{rel:"stylesheet",type:"text/css",href:d,onload:f}).appendTo("head"),i.isMobile){var h=b.createElement("img");h.onerror=function(){try{g?f():(f=new Function(f),f())}catch(a){c.warn("[PPW] Error executing callback!",f,a.message,a)}h=null},h.src=d}},N=function(a,b,c){for(var d=a.length,e=0;d>e;e++)M(H(a[e]),b,c,!1)},O=function(a,b,c,d){for(var e=b.length,f=0;e>f;f++)M(H("/_themes/"+a+"/"+b[f]),c,d,!0)},P=function(){var b=G("transition"),d=G("directionalIconsStyle");"string"==typeof k.theme&&(k.theme=k.theme.replace(/ /g,"").split(",")),b&&(k.transition=b),k.transition&&k.theme.push(k.transition),d&&(k.directionalIconsStyle=d),i.loadSteps+=k.theme.length,a(k.theme).each(function(){var b=this.toString();a.getJSON(H("/_themes/"+b+"/manifest.json"),function(a,d){var e=!1;c.log("[PPW] Loading theme: "+b),"success"==d?(i.themeData=a,e=i.themeData.dependencies||[],e.css&&O(b,e.css,!0,function(){F("theme dependencies(css)")}),e.js&&L(b,e.js,!0,function(){F("theme dependencies(js)")})):c.error("[PPW][Theme data] Could not load manifest.json! Theme: "+b),F("theme")})})},Q=function(){a("#ppw-arrow-previous-slide, #ppw-arrow-next-slide").show()},R=function(){a("#ppw-arrow-previous-slide, #ppw-arrow-next-slide").hide()},S=function(){n.append(j.loading),n.append(j.arrows.replace(/\{\{directionaliconsstyle\}\}/g,k.directionalIconsStyle)),k.useArrows?Q():R(),a("#ppw-loadingbarParent").css({width:"260px",height:"8px",border:"solid 1px white",boxShadow:"0px 0px 4px black",background:"white",orverflow:"hidden"}),a("#ppw-loadingbar").css({width:"1px",height:"100%",background:"#55f"});var c=["/_styles/ppw.css","/_styles/animate.css","/_styles/jquery-ui-1.8.23.custom.css","/_styles/font-awesome.min.css"];N(c,!0,"PPW.setLoadingBarStatus()",!1);var d=["/_scripts/jquery-ui-1.8.23.custom.min.js"];K(d,!0,PPW.setLoadingBarStatus),"page"!=k.mode&&(g.lnk=b.createElement("link"),g.lnk.type="image/x-icon",g.lnk.rel="shortcut icon",g.lnk.href=H("/_images/power-polygon-icon.png"),b.getElementsByTagName("head")[0].appendChild(g.lnk),delete g.lnk),P(),C()?(y("onthemeloaded",k.themeSettings),a("#ppw-lock-loading").hide()):ib()},T=function(a){return a?a.profile&&"none"!=a.profile&&k.profile&&"none"!=k.profile?a.profile!=k.profile?!1:a:a:!1},U=function(b,c){var d,e=0,f=k.slides.length;for(i.validSlides=[],b===!1&&(b="none"),b&&(k.profile=b);f>e;e++)d=k.slides[e],T(d)?(i.validSlides.push(d),a("#"+d.id).parent().removeClass("ppw-slide-not-in-profile")):a("#"+d.id).parent().addClass("ppw-slide-not-in-profile");c||ab("profile",b)},V=function(){return i.validSlides},W=function(a){return b.querySelectorAll(a)},X=function(){for(var b=W(".ppw-clonable"),c=0,d=b.length,e=null;d>c;c++){var f=b[c],e=a(f),g=null,h=null,c=0,i=null;f.id=f.id||"ppw-clone",i=f.id,g=e.hasClass("ppw-type-section")?W(".ppw-slide-type-section"):e.hasClass("ppw-type-content")?W(".ppw-slide-type-content"):W(".ppw-slide-element");for(h in g)if(g.hasOwnProperty(h)){h=g[h];var j=a(h).find(".ppw-clonable-container"),k=null;j.length&&(j=j.length?j[0]:this,c++,k=f.cloneNode(!0),k.id=i+"-"+c,j.appendChild(k))}}e&&e.length&&e.remove()},Y=function(){var b=a("header"),c=a("footer");b.length&&(b.addClass("ppw-header-element"),k.useGlobalHeader?b.addClass("ppw-global"):(b[0].removeAttribute("id"),a(".ppw-slide-type-content").each(function(){a(this).append(b[0].cloneNode(!0))}),b.remove())),c.length&&(c.addClass("ppw-footer-element"),k.useGlobalFooter?c.addClass("ppw-global"):(a(".ppw-slide-type-content").each(function(){a(this).append(c[0].cloneNode(!0))}),c.remove()))},Z=function(b){for(;!a(b).hasClass("ppw-slide-element")&&"HTML"!=b.tagName.toUpperCase();)b=b.parentNode;return"SECTION"==b.tagName.toUpperCase()?b:!1},$=function(b){a(b||"var").each(function(){var b=!1,c=0,d=V(),e=Z(this),f=a(this).data("ppw-variable")||this.innerHTML,g=e?a(e.parentNode).data("ppwSlideRef"):mc();switch(f){case"slide.id":this.innerHTML=g.id,e||a(this).addClass("ppw-variable").data("ppw-variable","slide.id");break;case"slide.idx":this.innerHTML=g.index,e||a(this).addClass("ppw-variable").data("ppw-variable","slide.idx");break;case"time.day":this.innerHTML=(new Date).getDate();break;case"time.month":this.innerHTML=1+(new Date).getMonth();break;case"time.year":this.innerHTML=(new Date).getFullYear();break;case"time.hour":this.innerHTML=(new Date).getHours();break;case"time.minute":this.innerHTML=(new Date).getMinutes();break;case"slide.number":a(d).each(function(){return c++,(this.id===g.id)>>b?(b=!0,!1):void 0}),b&&(this.innerHTML=c),e||a(this).addClass("ppw-variable").data("ppw-variable","slide.number");break;case"talk.title":this.innerHTML=k.title,e||a(this).addClass("ppw-variable").data("ppw-variable","talk.title");break;case"talk.length":this.innerHTML=d.length,e||a(this).addClass("ppw-variable").data("ppw-variable","talk.length")}})},_=function(b,c){var d=b||p.language,e=!1,f=k.languages,g=null;if(i.currentLang!=d){if(i.currentLang=d,f){e=f.length-1,bc();do g=new RegExp(f[e],"i"),d.match(g)?(d=f[e],a(".LANG-"+f[e]).show()):a(".LANG-"+f[e]).hide();while(e--)}m.className=m.className.replace(/LANG_[a-z]+( |$)/gi,""),PPW.language=d,n.addClass("LANG_"+d),c||ab("lang",d),y("onlangchange")}},ab=function(a,b){var c=new RegExp(a+"=([a-zA-Z0-9-_]+)"),d=o.search.replace(c,"").replace(/\?\&/,"?").replace(/\&\&/,"&").replace(/\?$/,"");d=d+(d.indexOf("?")>-1?"&":"?")+a+"="+b+o.hash,k.currentPath&&(d+=k.currentPath),_b(d)},bb=function(){r.setTimeout(function(){k.useSplashScreen?a("#ppw-slides-loader-bar").animate({marginTop:"-61px"},500):a("#ppw-lock-loading").fadeOut()},1e3)},cb=function(b){var c=a("#ppw-slides-container img"),d=c.length,e=0,f=null,g=b||a("#ppw-slides-loader-bar-loading-container>div"),h=0,i=function(){e++,h=100*e/d,g.stop().animate({width:h+"%"},60,function(){100==h&&e==d&&bb()})};c.each(function(){f=new Image,f.onload=i,f.src=this.src}),d||bb()},db=function(c){var d,e,f=k.slides.length,g=0;i.preloadedSlidesCounter++,g=100*i.preloadedSlidesCounter/f,i.preloadedSlidesCounter===f&&(d=k.preloadImages?function(){a("#ppw-preloader-label").html("Loading images..."),a("#ppw-slides-loader-bar-loading-container>div").stop().css("width","0%"),cb()}:function(){r.setTimeout(function(){a("#ppw-slides-loader-bar").stop().animate({marginTop:"-61px"},500)},1e3)}),y("onslideloaded",c),100==g&&(i.slidesLoaded=!0,U(G("profile")||!1,!0),_(G("lang")||k.defaultLanguage||p.language,!0),Y(),$(),u("onslidechange",function(){k.currentPath="",$(".ppw-variable")}),y("onslidesloaded",k.slides),k.fixAnchorScroll&&b.getElementById(o.hash.replace("#",""))&&a(m).one("scroll",function(){e=n.css("overflow"),m.style.overflow="auto",m.scrollTop=0,m.scrollByPages&&m.scrollByPages(-100),m.style.overflow=e}),k.useSplashScreen||Nb(),C()&&eb(),a(".ppw-slide-container").click(function(b){return i.inThumbsMode?(Yb(a(this).data("ppw-slide-ref")),v(b)):void 0}),a("a").each(function(){var a=this.href?this.href.replace(o.protocol+"//"+o.host+o.pathname,""):"#";a=a.replace(/\?.+\#/,"#"),"#"!=a.substring(0,1)&&"javascript:"!=a.substring(0,11)&&(this.getAttribute("target")||this.setAttribute("target","_blank"))})),a("#ppw-slides-loader-bar-loading-container>div").stop().animate({width:g+"%"},100,d)},eb=function(){var b=V(),c=[],d=null;a("#ppw-splash-screen").hide(),a("#ppw-toolbar-container").hide(),k.languages&&k.languages.length&&(a(b).each(function(){d=a(this.el).find("*"),c.push(d),d.show()}),_(i.currentLang)),a("#ppw-slides-container, .ppw-slide-container ").css({width:"100%",height:"100%",margin:"auto"}),n.addClass("printing-"+(k.slidesPerPage||1)),setTimeout(function(){r.print(),r.close()},1e3)},fb=function(){var b=a("#ppw-slides-container");i.presentationStarted&&(y("onbeforeshowthumbs"),i.prevStyle={margin:b.css("margin"),padding:b.css("padding"),width:b.css("width"),height:b.css("height"),position:b.css("position"),top:b.css("top"),left:b.css("left"),opacity:b.css("opacity")},g.scroll=[m.scrollLeft,m.scrollTop],b.addClass("ppw-show-thumbs"),n.addClass("ppw-showing-thumb"),i.inThumbsMode=!0,y("onshowthumbs"))},gb=function(){var b=a("#ppw-slides-container");b[0].scrollTop=g.scroll[1],b[0].scrollLeft=g.scroll[0],y("onhidethumbs"),b.removeClass("ppw-show-thumbs"),n.removeClass("ppw-showing-thumb"),i.inThumbsMode=!1},hb=function(a){var b=!1;switch(a.keyCode){case 82:case 114:case 76:case 108:case 73:case 105:case 84:case 116:b=!0}return 9==a.keyCode||116==a.keyCode||122==a.keyCode?!0:8==a.keyCode&&a.shiftKey&&(a.metaKey||a.ctrlKey)?!0:(a.metaKey||a.ctrlKey)&&b?!0:!1},ib=function(){var d=0,e=null;l.bind("keydown",function(e){if(e.target.tagName.toLowerCase(),hb(e)||"page"==k.mode)return!0;if(nb(e.target)&&27!=e.keyCode&&32!=e.keyCode&&70!=e.keyCode)return!0;if(hc(e))return c.warn("[PPW] User interaction(keydown) ignored because Power Polygon has been locked"),!1;switch(e.keyCode){case 112:kb();break;case 34:case 37:case 40:case 8:if(i.presentationStarted&&!nb(e.target))return Wb(),v(e);break;case 33:case 38:case 39:case 13:case 32:if(32==e.keyCode&&e.altKey)return Fb(),fb(),v(e);if(i.presentationStarted&&!nb(e.target))return Xb(),v(e);13==e.keyCode&&nb(e.target)&&e.target.click();break;case 35:if(i.presentationStarted&&!nb(e.target))return Yb("last"),v(e);break;case 36:if(i.presentationStarted&&!nb(e.target))return Yb(0),v(e);break;case 18:if(k.shortcutsEnable&&i.presentationStarted&&!nb(e.target))return rb(!0),v(e);break;case 27:if("none"!=a("#ppw-message-box").css("display"))return i.showingMessage&&Fb(),Hb(),v(e),1!=i.currentZoom&&dc(),!1;i.inThumbsMode&&Yb(i.currentSlide);break;case 70:if(e.altKey)return ub(!0),v(e);break;case 80:if(e.altKey||e.ctrlKey||e.meta)return tb(),v(e);break;default:if(k.shortcutsEnable&&e.altKey&&i.presentationStarted&&(d=e.keyCode-48,d>=0&&10>d))return b.getElementById("ppw-go-to-slide").value+=d,v(e)}return!0}),l.bind("keyup",function(a){var d=!1;if(hb(a))return!0;if(hc(a))return c.warn("[PPW] User interaction(keyup) ignored because Power Polygon has been locked"),!1;switch(a.keyCode){case 18:return d=b.getElementById("ppw-go-to-slide"),d&&(d.value&&(d=parseInt(d.value,10),0>=d&&(d=1),Yb(V()[d-1]),Fb()),v(a)),!1;case 80:break;case 27:if(d=y("ESC_PRESSED"),!d)return v(a);break;case 117:if(d=y("F6_PRESSED"),!d)return v(a);break;case 118:if(d=y("F7_PRESSED"),!d)return v(a);break;case 119:if(d=y("F8_PRESSED"),!d)return v(a);break;case 120:if(d=y("F9_PRESSED"),!d)return v(a);break;case 121:if(d=y("F10_PRESSED"),!d)return v(a)}return l.bind("keypress",function(a){if(hb(a)||"page"==k.mode)return!0;if(a.altKey){if(hc(a))return c.warn("[PPW] User interaction(keypress) ignored because Power Polygon has been locked"),!1;switch(a.keyCode){case 188:case 65:case 37:return v(a);case 190:case 83:case 39:return v(a)}}}),!0}),r.addEventListener("popstate",function(){},!1),r.addEventListener("hashchange",function(){Yb(Tb())},!1),l.bind("click",function(a){return"page"==k.mode?!0:hc(a)?(c.warn("[PPW] User interaction(click) ignored because Power Polygon has been locked"),!1):i.presentationStarted&&!ob(a.target)?((!k.useArrows||k.useArrows&&!k.useOnlyArrows)&&(i.inThumbsMode||Xb()),v(a)):!0}),k.zoomOnScroll&&(e=jb,l.bind("DOMMouseScroll",e),l.bind("mousewheel",e)),k.showOfflineAlerts&&(m.addEventListener("offline",function(){lb("Your browser went offline!")},!1),m.addEventListener("online",function(){lb("Your browser is back online")},!1)),k.showBatteryAlerts&&p.battery&&(p.battery.addEventListener("chargingchange",function(){p.battery.charging?mb():lb("<img src='"+H("/_images/electricity.png")+"' width='20' alt='Your battery stoped charging!' />")},!1),u("onthemeloaded",function(){i.themeLoaded=!0,setTimeout(function(){p.battery.charging||p.battery.dischargingTime<k.duration&&lb("<img src='"+H("/_images/electricity.png")+"' width='20' title='You have "+p.battery.dischargingTime/60+" minutes of battery!' />")},1e3)})),r.addEventListener("blur",function(){"none"!=a("#ppw-message-box").css("display")&&"none"==b.getElementById("ppw-message-box-button").style.display&&Fb(),"presentation"==k.mode&&Q()},!1),r.addEventListener("focus",function(){k.useArrows||"presentation"!=k.mode||setTimeout(R,200)}),r.addEventListener("resize",function(a){y("onresize",{window:r,event:a})}),r.onbeforeunload=function(){return i.presentationTool&&i.presentationTool.close(),null}},jb=function(b){if(hc(b))return c.warn("[PPW] User interaction(zoom) ignored because Power Polygon has been locked"),!1;var d=a(".ppw-active-slide-element-container").eq(0)[0],e=(d?d.offsetWidth/2:0,d?d.offsetHeight/2:0,b.originalEvent),f=e.detail<0||e.wheelDelta>0?1:-1,g=f>0?.1:-.1;i.currentZoom+g,e.offsetX,e.offsetY},kb=function(){Cb(j.help)},lb=function(b){var c=a("#ppw-notification-element");c.length&&(c.find("span").html(b),c.animate({left:"0px"},500))},mb=function(){var b=a("#ppw-notification-element");b.animate({left:"-"+(b[0].offsetWidth+10)+"px"},300)},nb=function(b){var c=b,d=c.tagName.toLowerCase(),e=a(c);return"a"==d||"button"==d||"option"==d||"input"==d||"textarea"==d||"select"==d||e.hasClass(i.cons.FOCUSABLE_ELEMENT)||e.hasClass(i.cons.CLICKABLE_ELEMENT)||c.hasAttribute("tabindex")?!0:"video"==d||"audio"==d?c.hasAttribute("controls"):!1},ob=function(a){for(;a.tagName&&"body"!=a.tagName.toLowerCase();){if(nb(a))return!0;a=a.parentNode}return!1},pb=function(a,b){return k.fsPattern.replace(/\%id/gi,a).replace(/\%num/gi,b)+(k.slidesCache?"":"?noCache="+(new Date).getTime())},qb=function(d){var e=k.slides,f=e.length,g=0,h=null,l=null,n="",o=null,p=k.slidesContainer;if(p.id||(p.id=i.defaults.containerID,m.appendChild(p)),d&&"function"==typeof d&&u("onslidesloaded",d),!f)return c.error("[PPW] Error: no slides found!"),a("#ppw-slides-loader-bar").html("<div style='color: red;text-align:center;'><br/>No slides found!!</div>"),!1;for(;f>g;g++)if(h=a("section#"+e[g].id),0===g&&(e[g].first=!0),g==f-1&&(e[g].last=!0),e[g].actions=[],h.length?(k.slides[g].el=h[0],n=h.find("h1, h2, h3, h4, h5, h6")[0],n=n?n.innerHTML:h[0].textContent.substring(0,i.defaults.slideTitleSize),k.slides[g].title=n,k.slides[g].index=g+1,a(p).append("<div id='ppw-slide-container-"+e[g].id+"' class='ppw-slide-container'></div>"),a(h).find("script").each(function(a,b){var d=new Function("PPW.slideIterator= this; "+b.textContent);try{d.apply(e[g]),b.parentNode.removeChild(b)}catch(f){c.error("[PPW][Script loaded from slide] There was an error on a script, loaded in one of your slides!",f)}}),a("#ppw-slide-container-"+e[g].id).append(h[0]),db(k.slides[g])):(l=a("<div id='ppw-slide-container-"+e[g].id+"' class='ppw-slide-container'><section id='"+e[g].id+"'></section></div>"),p.appendChild(l[0]),a.ajax({url:pb(e[g].id,g),success:function(d,e){return function(f){var g=b.getElementById(d.id),h=null;g.innerHTML=f,k.slides[e].el=g,h=a(g).find("h1, h2, h3, h4, h5, h6")[0],h=h?h.innerHTML:g.textContent.substring(0,i.defaults.slideTitleSize),k.slides[e].title=h,k.slides[e].index=e+1,k.slides[e].errors=0,a(g).find("script").each(function(a,b){var e=new Function("PPW.slideIterator= this; "+b.textContent);try{e.apply(d)}catch(f){c.error("[PPW][Script loaded from slide] There was an error on a script, loaded in one of your slides!",f)}}),db(k.slides[e])}}(e[g],g),error:function(d,e){return function(){var f=b.getElementById(d.id),g=k.fsPattern.replace(/\%id/g,d.id);k.slides[e].el=f,k.slides[e].title=n,k.slides[e].index=e+1,k.slides[e].errors=1,a(f).addClass("ppw-slide-not-found").html(j.slideNotFound.replace(/\{\{slideid\}\}/g,d.id).replace("{{addr}}",g,"g")),c.error("[PPW][Slide loading]: Slide not found!",d),db()}}(e[g],g)}),h=a("section#"+e[g].id)),a("#ppw-slide-container-"+e[g].id).data("ppw-slide-ref",e[g]),e[g].profile&&(i.profiles[e[g].profile]=!0),k.profile&&(i.profiles[k.profile]=!0),e[g].actionIdx=0,e[g].addAction=function(a){Sb(a,this)},h.addClass(i.cons.CLASS_SLIDE+" ppw-slide-type-"+(e[g].type||i.defaults.slideType)),e[g].className&&h.addClass(e[g].className),e[g].data&&h.data)for(o in e[g].data)h.data(o,e[g].data[o]);X()},rb=function(c){var d,e=null,f="Go to slide number <input style='margin: auto;' type='integer' id='ppw-go-to-slide' maxlength=3 value='' /><input type=button id=ppw-go-to-button value=Go>";return d=function(){var b=a("#ppw-go-to-slide").val();b&&""!=b.replace(/ /g,"")&&!isNaN(b)&&(Yb(V()[parseInt(b,10)-1]),Fb())},i.showingMessage?!1:(Cb(f,d,!0,!1,!0),e=b.querySelector("#ppw-go-to-slide"),b.getElementById("ppw-go-to-button").addEventListener("click",Fb),e.addEventListener("keyup",function(a){a&&a.keyCode&&13==a.keyCode&&d()},!1),c||e.focus(),void 0)},sb=function(a,c){var d=[],e=0,f=0,g=null,h=0;if(""==c||!c.toLowerCase)return!1;
if(c=c.toLowerCase(),a&&"next"!=a){d=k.slides.slice(0,i.currentSlide),e=d.length-1;do{if(!d[e])break;if(g=b.getElementById(d[e].id),g.textContent.toLowerCase().indexOf(c)>=0)return Yb(e),e}while(e--)}else for(d=k.slides.slice(i.currentSlide+1),f=d.length;f>e&&d[e];e++)if(g=b.getElementById(d[e].id),g.textContent.toLowerCase().indexOf(c)>=0)return h=i.currentSlide+1+e,Yb(h),h;return!1},tb=function(){window.open(o.origin+o.pathname+"?ppw-printing-version=true")},ub=function(c){var d=j.searchTool.replace(/\{\{directionaliconsstyle\}\}/g,k.directionalIconsStyle),e=null;return i.showingMessage&&!c?!1:(i.showingMessage?a("#ppw-message-content").html(d):Cb(d),kc(),e=b.getElementById("ppw-search-slide"),setTimeout(function(){b.getElementById("ppw-search-slide").focus()},100),e.addEventListener("keyup",function(b){13==b.keyCode?b.shiftKey?a("#ppw-search-prev").trigger("click"):a("#ppw-search-next").trigger("click"):27==b.keyCode&&i.showingMessage&&Fb()},!1),a("#ppw-search-prev").bind("click",function(){var a=sb("prev",b.getElementById("ppw-search-slide").value),c="Not found in previous slides!";a!==!1&&(c="Found in slide "+(a+1)),b.getElementById("ppw-search-found").innerHTML=c}),a("#ppw-search-next").bind("click",function(){var a=sb("next",b.getElementById("ppw-search-slide").value),c="Not found in next slides!";a!==!1&&(c="Found in slide "+(a+1)),b.getElementById("ppw-search-found").innerHTML=c}),void 0)},vb=function(){if(i.loadSteps++,m=b.body,n=a(m),S(),C())return n.addClass("printing-1"),qb(),!0;if(n.append('<div id="fb-root"></div>'),n.append(j.messages),n.append(j.camera),n.append('<svg id="ppw-svg-image-blur">                        <filter id="blur-effect-1">                            <feGaussianBlur stdDeviation="1" />                        </filter>                   </svg>'),k.useToolBar&&!G("remote-controller")){var c=j.toolBar.replace(/\{\{clickableClass\}\}/g,i.cons.CLICKABLE_ELEMENT).replace(/\{\{likeSrc\}\}/g,o.protocol+"//"+("localhost"==o.host?"powerpolygon.com":o.host)+o.pathname);n.append(c),a("#ppw-goto-icon").attr("src",H("/_images/goto.png")).addClass(i.cons.CLICKABLE_ELEMENT),a("#ppw-toolbox-icon").attr("src",H("/_images/toolbox.png")).addClass(i.cons.CLICKABLE_ELEMENT),a("#ppw-search-icon").attr("src",H("/_images/search.png")).addClass(i.cons.CLICKABLE_ELEMENT),a("#ppw-fullscreen-icon").attr("src",H("/_images/fullscreen.png")).addClass(i.cons.CLICKABLE_ELEMENT),a("#ppw-camera-icon").attr("src",H("/_images/camera.png")).addClass(i.cons.CLICKABLE_ELEMENT),k.remote&&k.remote.useButton!==!1?a("#ppw-remote-icon").attr("src",H("/_images/remote-conection-status-no-server.png")).addClass(i.cons.CLICKABLE_ELEMENT):a("#ppw-remote-icon").parent().hide(),a("#ppw-settings-icon").attr("src",H("/_images/settings-icon.png")).addClass(i.cons.CLICKABLE_ELEMENT),a("#ppw-ct-thumbs").attr("src",H("/_images/thumbs.png")).addClass(i.cons.CLICKABLE_ELEMENT),a("#ppw-ct-print").attr("src",H("/_images/print.png")).addClass(i.cons.CLICKABLE_ELEMENT)}k.useSplashScreen?a.get(H("/_tools/splash-screen.html"),{},function(c){b.body.innerHTML+=c,F("splash screen"),a("#ppw-goFullScreen-trigger").click(Ab),a("#ppw-testResolution-trigger").click(zb),a("#ppw-testAudio-trigger").click(Ib),a("#ppw-testCamera-trigger").click(PPW.toggleCamera),a("#ppw-testConnection-trigger").click(Lb),a("#ppw-talk-title").html(k.title),a(".ppw-menu-start-icon").click(Nb),a(".ppw-notification-close-button").click(mb),a("#ppw-slides-loader-bar").stop().animate({marginTop:"0px"},500,qb),i.screenSize=i.screenSize||a("#ppw-resolution-test-element")[0],u("onresize",function(){i.testingResolution&&wb()}),y("onsplashscreen",b.getElementById("ppw-addons-container"))}):F("splash screen not used"),p.onLine&&!i.remoteControl&&(k.Facebook&&function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/all.js#xfbml=1&appId=281929191903584",e.parentNode.insertBefore(d,e))}(b,"script","facebook-jssdk"),k.Google&&J("https://apis.google.com/js/plusone.js"),k.Facebook>>k.Google&&a("#ppw-content-toolbar").addClass("ppw-fb-only"),k.Google>>k.Facebook&&a("#ppw-content-toolbar").addClass("ppw-gp-only"),k.Facebook&&k.Google&&a("#ppw-content-toolbar").css("width","200px"))},wb=function(){b.getElementById("ppw-resolution-sizes").innerHTML=i.screenSize.offsetWidth+" X "+i.screenSize.offsetHeight},xb=function(){i.fontSize+=10,b.getElementById("ppw-slides-container").style.fontSize=i.fontSize+"%",i.testingResolution&&(b.getElementById("ppw-resolution-test-element").style.fontSize=i.fontSize+"%")},yb=function(){i.fontSize-=10,b.getElementById("ppw-slides-container").style.fontSize=i.fontSize+"%",i.testingResolution&&(b.getElementById("ppw-resolution-test-element").style.fontSize=i.fontSize+"%")},zb=function(){var c=a("#ppw-resolution-test-element");b.getElementById("ppw-splash-res-test-img-2").src=b.getElementById("ppw-splash-res-test-img-1").src,c.show(),wb(),i.testingResolution=!0,Cb('Click in "close" when finished',function(){c.hide(),i.testingResolution=!1})},Ab=function(){var a=!0;n.hasClass(i.cons.CLASS_FULLSCREEN)?(b.exitFullscreen?b.exitFullscreen():b.mozCancelFullScreen?b.mozCancelFullScreen():b.webkitCancelFullScreen&&b.webkitCancelFullScreen(),n.removeClass(i.cons.CLASS_FULLSCREEN)):(m.requestFullScreen?m.requestFullScreen():m.webkitRequestFullScreen?m.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):m.mozRequestFullScreen?m.mozRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):(a=!1,alert("[PPW] Your browser does not support Fullscreen from JavaScript!\nPlease, start your fullscreen with your keyboard!")),n.addClass(i.cons.CLASS_FULLSCREEN),y("onfullscreen",a))},Bb=function(){var a=i.messagesQueue,b=null;return a.length?(b=a.shift(),Cb(b.msg,b.fn,b.hideButton,b.type),!0):!1},Cb=function(d,e,f,g,h){var j=a("#ppw-message-box"),k=null;return i.showingMessage?(i.messagesQueue.push({msg:d,fn:e,hideButton:f,type:g}),!1):(PPW.unlock(),a("#ppw-message-content").html(d),f?a("#ppw-message-box-button").hide():h||PPW.lock(a("#ppw-message-box-button").show()[0]),PPW.animate(j,"fadeInDown",{duration:"300ms",delay:"0s"}),j.css({marginLeft:-(j[0].offsetWidth/2)+"px"}),g?("warning"==g||"error"==g)&&j.addClass(g):j.removeClass("warning").removeClass("error"),i.showingMessage=!0,k=function(){if(e&&"function"==typeof e)try{e()}catch(a){c.error("Failed executing callback on closing message",a,e)}},j.data("closeCallback",k),a("#ppw-message-box-button").one("click",Fb),setTimeout(function(){b.getElementById("ppw-message-box-button").focus()},100),!0)},Db=function(a,b,c){Cb(a,b,c,"warning")},Eb=function(a,b,c){Cb(a,b,c,"error")},Fb=function(){var b=a("#ppw-message-box"),c=b.data("closeCallback");PPW.animate(b,"fadeOutUp",{duration:"300ms",onstart:function(){},onend:function(){i.showingMessage=!1,Bb()||(PPW.unlock(),m.focus()),a("#ppw-message-box").hide().removeClass("ppw-anim-visible"),c&&"function"==typeof c&&c()}})},Gb=function(){var d=b.querySelector("#ppw-video-element"),e=a("#ppw-camera-tool");if(i.cameraLoaded)b.querySelector("#ppw-video-element").play(),e[0].offsetTop<0&&e.css({left:m.offsetWidth-e[0].offsetWidth-10,top:0-e[0].offsetHeight}).animate({top:"0px"},500),i.video&&i.stream&&y("onshowcamera",{video:i.video,device:i.stream}),i.showingCamera=!0;else{if(r.URL=r.URL||r.webkitURL,p.getUserMedia=p.getUserMedia||p.webkitGetUserMedia||p.mozGetUserMedia||p.msGetUserMedia,!p.getUserMedia)return alert("[PPW] Could NOT start the video!"),c.error("[PPW Error]: Could now open the camera! It looks like your browser does not support it!",data),!1;p.getUserMedia({audio:!1,video:!0},function(b){var c=b;PPW.cameraStream=b;try{c=r.URL.createObjectURL(b),d.src=c,b=c,d.play()}catch(f){d.mozSrcObject=b,d.play()}i.cameraLoaded=!0,i.video=d,i.stream=b,y("onshowcamera",{video:i.video,device:i.stream}),e.draggable().resizable({handles:"se, sw, ne, nw, n, e, s, w"}).bind("dblclick",function(){var b=a(this),c=[];b.data("fullscreened")?(c=b.data("oldprops"),b.data("fullscreened",!0).show().animate({width:c[2]+"px",height:c[3]+"px",left:c[0]+"px",top:c[1]+"px"},500).data("fullscreened",!1)):b.data("fullscreened",!0).data("oldprops",[this.offsetLeft,this.offsetTop,this.offsetWidth,this.offsetHeight]).animate({width:m.offsetWidth+"px",height:m.offsetHeight+"px",left:"0px",top:"0px"},500)}).css({left:m.offsetWidth-e[0].offsetWidth-10,top:0-e[0].offsetHeight}).animate({top:"0px"},500),i.showingCamera=!0,a("#ppw-camera-hide-trigger").bind("click",Hb)},function(a){return c.error("[PPW Error]: Could now open the camera! User did not allow it!",a),!1})}},Hb=function(){var c=null;i.cameraLoaded&&(c=a("#ppw-camera-tool"),b.querySelector("#ppw-video-element").pause(),c.animate({top:-c[0].offsetHeight-30}),i.showingCamera=!1),y("onhidecamera")},Ib=function(){Cb("Playing audio<br/><div style='background: url("+H("/_images/animated-wave-sound.gif")+') 0px -37px no-repeat; position: relative; width: 220px; height: 30px; margin: auto; background-size: 248px 108px; border-left: solid 1px #fcc; border-right: solid 1px #fcc;\' onclick=\'var audio = document.getElementById("ppw-audioTestElement"); var t = "Stopped";  if(audio.paused) { audio.play(); t = "Playing" } else { audio.pause(); }; console.log("[PPW] Currently " + t); \'/><div id=\'ppw-audioPlaceHolder\'></div>',function(){var a=b.getElementById("ppw-audioTestElement"),c=new Audio(a);a.pause(),c.pause()}),a("#ppw-audioPlaceHolder").html("<audio id='ppw-audioTestElement' autoplay='autoplay' loop='loop' >                                <source src='"+H("/_audios/water.mp3")+"'/>                                <source src='"+H("/_audios/water.ogg")+"'/>                               </audio>")},Jb=function(){var b=H("/_tools/presentation-tool.html"),c="ppw-Presentation-tool",d="width=780,height=520,left=40,top=10";i.presentationTool&&i.presentationTool.focus?i.presentationTool.focus():(i.presentationTool=r.open(b,c,d),i.presentationTool.onload=function(){i.presentationTool.PresentationTool.init(a,r.PPW,lc())},i.presentationTool.onunload=function(){i.presentationTool=!1})},Kb=function(a){y("onpresentationtoolloaded",a)},Lb=function(){p.onLine?Cb("Your browser is online"):Cb("There is a problem with the internet connection! Or your browser does not support the onLine API")},Mb=function(){var c="",d=0,e=[],f=0,g=function(){var a="";y("onclosesettings"),k.shortcutsEnable=b.getElementById("ppw-shortcutsEnable").checked?!0:!1,k.duration=parseInt(b.getElementById("ppw-talk-duration").value,10)||i.defaults.duration,a=b.getElementById("ppw-alert-at").value.replace(/ /g,"").split(","),a=a.filter(function(a){return!isNaN(a)||!1}),k.alertAt=a};if(c=j.settings.replace("{{shortcuts}}",k.shortcutsEnable?"checked=checked":"").replace("{{duration}}",k.duration).replace("{{alerts}}",k.alertAt),Cb(c,g,!1,!1,!0),i.profiles){for(e=Object.keys(i.profiles),f=e.length,c="<option value='none'>none</option>";f>d;d++)c+="<option value='"+e[d]+"'>"+e[d]+"</option>";a("#ppw-profile-option").html(c).attr("value",k.profile&&"none"!=k.profile?k.profile:"none").bind("change",function(){U(this.value),Yb(i.currentSlide)})}else a("#ppw-profile-config").hide();if(k.languages&&k.languages.length){for(e=k.languages,f=e.length,c="",d=0;f>d;d++)c+="<option value='"+e[d]+"'>"+e[d]+"</option>";a("#ppw-language-option").html(c).attr("value",i.currentLang).bind("change",function(){_(this.value)})}else a("#ppw-languages-config").hide();y("onopensettings",k)},Nb=function(c){var d,e,f=b.querySelector(".ppw-menu-start-icon");if(i.slidesLoaded)return a("#ppw-splash-screen-container").animate({marginTop:"-460px"},200,function(){a("#ppw-splash-screen").fadeOut()}),k.presentationStarted=i.presentationStarted=(new Date).getTime(),Yb(Tb()),f&&f.blur(),y("onstart",i.currentSlide),d=mc(),d&&d.actions.length&&d.actions[0].timing&&(e=d.actions[0],"auto"==e.timing?e.does():x(e.timing)&&setTimeout(e.does,e.timing)),c?(c.preventDefault(),!1):void 0},Ob=function(a){var b=PPW.slideIterator;return b&&b.actions?(a&&"function"==typeof a&&(b.onSlideEnter=function(){try{a(b)}catch(d){c.error("[PPW][Slide script error] Failed during the call of the onSlideEnter",b)}}),void 0):!1},Pb=function(a){var b=PPW.slideIterator;return b&&b.actions?(a&&"function"==typeof a&&(b.onSlideExit=function(){try{a(b)}catch(d){c.error("[PPW][Slide script error] Failed during the call of the onSlideExit",b)}}),void 0):!1},Qb=function(a){var b=PPW.slideIterator;return b&&b.actions?(a&&"function"==typeof a&&(b.onSlideDoes=function(){try{a(b)}catch(d){c.error("[PPW][Slide script error] Failed during the call of the onSlideEnd",b)}}),void 0):!1},Rb=function(a){var b=PPW.slideIterator;return b&&b.actions?(a&&"function"==typeof a&&(b.onSlideUndo=function(){try{a(b)}catch(d){c.error("[PPW][Slide script error] Failed during the call of the onSlideEnd",b)}}),void 0):!1},Sb=function(a,b){var c=b||PPW.slideIterator;return c&&c.actions?("function"==typeof a?c.actions.push({timing:"click",does:a}):a.does&&"function"==typeof a.does&&(a.timing||(a.timing="click"),c.actions.push(a)),!0):!1},Tb=function(){var a=o.hash?o.hash.replace(k.hashSeparator,"")||k.slides[0].idx:0,b=k.slides.length,c=!1;if(isNaN(a)){for((c=a.match(/\/.+/))&&(k.currentPath=c,a=a.replace(/\/.+/,""));b--;)if(k.slides[b].id==a)return b;a=0}return a||0},Ub=function(a){var b=0;if(k.slides.length,a="object"==typeof a?a:mc(),b=a.index-2,0>b)return mc();for(a=k.slides[b];!T(a);){if(0>b){a=mc();break}a=k.slides[--b]}return a},Vb=function(a){var b=0,c=k.slides.length;for(a="object"==typeof a?a:mc(),b=a.index,a=k.slides[b];a&&!T(a);){if(b>=c){a=mc();break}a=k.slides[++b]}return a},Wb=function(){var a=mc(),b=null;if(a.actionIdx>0)if(a._timer&&(r.clearTimeout(a._timer),a._timer=!1),a.actionIdx--,b=a.actions[a.actionIdx].undo,b&&"function"==typeof b)try{b(a)}catch(d){c.error("[PPW][Slide action error] There was an error trying to execute an action of the current slide:",a,d)}else Wb();else bc(),Yb(Ub(),"prev")},Xb=function(){var a=mc(),b=null;a._timer&&(r.clearTimeout(a._timer),a._timer=!1),a.actionIdx<a.actions.length?(setTimeout(a.actions[a.actionIdx].does,1),a.actionIdx++,b=a.actions[a.actionIdx],b&&"click"!=b.timing&&("auto"==b.timing||a._timer?Xb():x(b.timing)&&(a._timer=r.setTimeout(function(){Xb(),a._timer=!1},b.timing)))):Yb(Vb(),"next")},Yb=function(b,d){var e=mc(),f=null,g=null;if(!i.presentationStarted)return!1;if(k.fixTransformsOnSlideChange&&dc(),e._timer&&(r.clearTimeout(e._timer),e._timer=!1),e.last&&"next"==d)return y("onfinish"),!1;if(e.first&&"prev"==d)return!1;if(0==V().length)return y("onfinish"),c.error("[PPW] Invalid slides definition: There are no valid slides to show!"),!1;if(x(b)){if(f=k.slides[i.currentSlide],0>b&&(b=0),!T(k.slides[b]))return"prev"==d?Wb():Yb(Vb(k.slides[b])),!1}else b&&b.index||(b=V(),b=b[b.length-1]),f=b,b=f.index-1;return i.currentSlide=b,(g=k.slides[i.currentSlide])?(i.inThumbsMode&&gb(),k.friendlyURL!==!1&&$b(b),ac(b),k.slides[i.currentSlide].onSlideEnter&&k.slides[i.currentSlide].onSlideEnter(),e.onSlideExit&&e!=g&&e.onSlideExit(),d?"prev"==d?y("onprev",{previous:e,current:g}):y("onnext",{previous:e,current:g}):y("ongoto",{previous:e,current:k.slides[i.currentSlide]}),k.useArrows&&(g.first?a("#ppw-arrow-previous-slide").hide():a("#ppw-arrow-previous-slide").show(),g.last?a("#ppw-arrow-next-slide").hide():a("#ppw-arrow-next-slide").show()),e&&e.type!=g.type&&y("onslidetypechange",{previous:e,current:g}),y("onslidechange",{previous:e,current:g}),g.actions[g.actionIdx]&&"click"!=g.actions[g.actionIdx].timing&&("auto"==g.actions[g.actionIdx].timing?Xb():isNaN(g.actions[g.actionIdx].timing)||(k.slides[i.currentSlide]._timer=setTimeout(function(){Xb()},g.actions[g.actionIdx].timing))),void 0):(y("onfinish"),!1)},Zb=function(a){return k.currentPath=a||!1,a},$b=function(a){a=k.friendlyURL&&"num"!=k.friendlyURL?k.slides[a].id:a,_b(a),b.title=a},_b=function(a){k.currentPath&&(a+=k.currentPath),a!=mc().id&&q.pushState({},a,k.hashSeparator+a)},ac=function(c){var d=0;c||(c=i.currentSlide),a(b.querySelector("."+i.cons.CLASS_ACTIVE_SLIDE)).removeClass(i.cons.CLASS_ACTIVE_SLIDE),a(b.querySelector("."+i.cons.CLASS_ACTIVE_SLIDE_CONT)).removeClass(i.cons.CLASS_ACTIVE_SLIDE_CONT),a("#"+k.slides[c].id).addClass(i.cons.CLASS_ACTIVE_SLIDE),a("#"+k.slides[c].id).parent().addClass(i.cons.CLASS_ACTIVE_SLIDE_CONT),a(b.querySelector("."+i.cons.CLASS_PREVIOUS_SLIDE)).removeClass(i.cons.CLASS_PREVIOUS_SLIDE),a(b.querySelector("."+i.cons.CLASS_PREVIOUS_SLIDE_CONT)).removeClass(i.cons.CLASS_PREVIOUS_SLIDE_CONT),d=c;do d--;while(k.slides[d]&&!T(k.slides[d]));k.slides[d]&&(a("#"+k.slides[d].id).addClass(i.cons.CLASS_PREVIOUS_SLIDE),a("#"+k.slides[d].id).parent().addClass(i.cons.CLASS_PREVIOUS_SLIDE_CONT)),a(b.querySelector("."+i.cons.CLASS_NEXT_SLIDE)).removeClass(i.cons.CLASS_NEXT_SLIDE),a(b.querySelector("."+i.cons.CLASS_NEXT_SLIDE_CONT)).removeClass(i.cons.CLASS_NEXT_SLIDE_CONT),d=c;do d++;while(k.slides[d]&&!T(k.slides[d]));k.slides[d]&&(a("#"+k.slides[d].id).addClass(i.cons.CLASS_NEXT_SLIDE),a("#"+k.slides[d].id).parent().addClass(i.cons.CLASS_NEXT_SLIDE_CONT))},bc=function(b){return b=b?a(b):a(mc().el).find(".animated"),a(b).each(function(){this.className=this.className.replace(/ppw\-anim\-([a-zA-z0-9\-_]+)( |$)/g,"").replace("animated","")}),b},cc=function(b,d,e){PPW.isLocked();var f=function(a){if(e=e||{},e.onend=e.onend||e.onEnd||!1,e.onend&&"function"==typeof e.onend)try{e.onend(a,b,d)}catch(f){c.error("[PPW] Error: Callback failed to be executed in the end of the animation")}(d.indexOf("out")>0||d.indexOf("Out")>0)&&(bc(b),b.hide())},g=null,h=[];if(b=a(b),i.currentLang&&(b.each(function(){if(g=this,g.className){if(g.className.match(/(^| )LANG\-/)&&!a(this).hasClass("LANG-"+i.currentLang))return;h.push(g)}else h.push(g)}),b=a(h)),!(i.animations.indexOf(d)>=0))throw new Error("Invalid animation "+d);e&&(e.duration&&b.css({webkitAnimationDuration:e.duration,mozAnimationDuration:e.duration,msAnimationDuration:e.duration,oAnimationDuration:e.duration,animationDuration:e.duration}),(e.delay||0===e.delay)&&(x(e.delay)&&(e.delay=e.delay+"ms"),b.css({webkitAnimationDelay:e.delay,mozAnimationDelay:e.delay,msAnimationDelay:e.delay,oAnimationDelay:e.delay,animationDelay:e.delay})),e.count&&(b[0].style.webkitAnimationIterationCount=e.count,b[0].style.mozAnimationIterationCount=e.count,b[0].style.oAnimationIterationCount=e.count,b[0].style.animationiterationcount=e.count,b[0].style.animationIterationCount=e.count),e.onstart&&"function"==typeof e.onstart&&(b.one("webkitAnimationStart",e.onstart),b.one("msAnimationStart",e.onstart),b.one("oAnimationStart",e.onstart),b.one("animationstart",e.onstart))),b.one("webkitAnimationEnd",f),b.one("mozAnimationEnd",f),b.one("msAnimationEnd",f),b.one("oAnimationEnd",f),b.one("animationend",f),bc(b[0]),(d.indexOf("in")>0||d.indexOf("In")>0)&&b.show(),b.removeClass("ppw-anim-"+d).addClass("animated ppw-anim-visible ppw-anim-"+d)},dc=function(){1!=i.currentZoom&&(ec({zoom:1}),i.currentZoom=1)},ec=function(b){var c,d,e,f,g,h,j,l,m=a.browser.webkit?"-webkit-":a.browser.mozilla?"-moz-":"",o=n.css(m+"transform"),p=[1,0,0,1,0,0],q=null,r=n,s=!1,t=!1,u=k.applyZoomTo||a(".ppw-active-slide-element-container").eq(0);return!i.presentationStarted||i.inThumbsMode?!1:(s=!0,(b.left||0===b.left)&&(b.left=b.left),(b.top||0===b.top)&&(b.top=b.top),b.target&&(b.target="string"==typeof b.target?a(b.target).eq(0):b.target,t=!0),b.rotate&&(b.rotate=b.rotate),b.callback&&(b.callback=b.callback),b.times=b.zoom||2,t&&(b.left=r[0].offsetLeft+r[0].offsetWidth/2,b.top=r[0].offsetTop+r[0].offsetHeight/2),b.times=b.times||1,b.times<=0&&(b.times=.1),b.times>i.zoomMax&&(b.times=i.zoomMax),c=r[0].offsetLeft,d=r[0].offsetTop,e=r[0].offsetWidth,f=r[0].offsetHeight,g=c/2+e/2,h=d/2+f/2,b.left<0&&(b.left=0),b.top<0&&(b.top=0),b.left=void 0==b.left||b.left===!1?g:parseInt(b.left,10),b.top=void 0==b.top||b.top===!1?h:parseInt(b.top,10),j=c+e-c*b.times/2,l=d+f-d*b.times/2,b.left>=j&&(b.left=j),b.top>=l&&(b.top=l),o&&"none"!=o?((q=o.match(/matrix\(([0-9\,\.\- ]+)\)/))&&q[1]&&(o=o.replace(/matrix\(([0-9\,\.\- ]+)\)/g,""),q=q[1].replace(/ /g,"").split(",")),o=o.replace(/scale\(([0-9\,\.\- ]+)\)/,"")):o="",q||(q=p),q[0]=q[3]=b.times,void 0!=b.rotate&&(q[1]=q[2]=0,o=o.replace(/rotate\(([0-9\,\.\- ]+)\)/g,""),o+=" rotate("+b.rotate+"deg)",i.currentRotate=b.rotate),o+=" matrix("+q.join(", ")+") ",u.css(m+"transform-origin",b.left+"px "+b.top+"px"),u.css(m+"transform",o),i.currentZoom=b.times,PPW)},fc=function(b){var c=a.browser.webkit?"-webkit-":a.browser.mozilla?"-moz-":"",d=n.css(c+"transform"),e=n.css(c+"transform-origin");return i.presentationStarted?(e&&""!=e.replace(/0px| /g,"")||n.css(c+"transform-origin","50% 50%"),d&&"none"!=d&&d.indexOf("rotate")>-1?d=d.replace(/rotate\(.+\)/i,"rotate("+b+")"):d+=" rotate("+b+"deg)",n.css(c+"transform",d),PPW):!1},gc=function(b){i.locked=b||!0,a("#ppw-arrows-container").fadeOut(),a("#ppw-toolbar-container").hide(),c.log("[PPW] Locked user interaction"),y("onlock")},hc=function(a){return a?i.locked?i.locked!==!0?a.target!=i.locked:"A"==a.target.tagName.toUpperCase()?!1:!0:!1:!0},ic=function(){PPW.remote.connect()},jc=function(){return k.remote.server||i.defaultRemoteServer,k.remote?(PPW.remote.server?PPW.remote.init(e,k,i,H("")):(a("#ppw-remote-io-script").remove(),J("/ppw/_tools/remote/server.js"),setTimeout(jc,3e3)),void 0):!1},kc=function(){i.locked=!1,a("#ppw-arrows-container").fadeIn(),a("#ppw-toolbar-container").show(),c.log("[PPW] Unlocked user interaction"),y("onunlock")},lc=function(){return k.slides},mc=function(){return k.slides[i.currentSlide]},nc=function(){return k.alertAt},oc=function(){return i.presentationStarted},pc=function(a){return"profiles"==a?i.profiles:k[a]||!1},qc=function(a,b){k[a]=b},rc=function(){r.auto="auto",r.click="click",r.global="global",r._p=r.P=PPW,G("remote-controller")&&(i.remoteControl=!0,k.Facebook=!1,k.useArrows=!1,k.preloadImages=!1,k.useSplashScreen=!1,k.Google=!1,a(document.body).addClass("remote-controller"),top.ppwFrame=r.PPW);var b=!1;!function(a){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))&&(b=!0)}(navigator.userAgent||navigator.vendor||window.opera),i.isMobile=b,vb(),C()?Yb(0):(i.currentSlide=Tb(),Yb(i.currentSlide)),jc()};return u("onload",rc),{version:f,init:D,setLoadingBarStatus:F,testConnection:Lb,enterFullScreen:Ab,testResolution:zb,openPresentationTool:Jb,goNextSlide:Xb,goNext:Xb,goPreviousSlide:Wb,goPrevious:Wb,goPrev:Wb,testAudio:Ib,extend:z,startCamera:Gb,stopCamera:Hb,showMessage:Cb,showWarning:Db,showWarn:Db,showError:Eb,toggleCamera:function(){i.showingCamera?Hb():Gb()},addListener:u,removeListener:w,triggerPresentationToolLoadEvent:Kb,showConfiguration:Mb,startPresentation:Nb,addAction:Sb,cons:i.cons,showGoToComponent:rb,showSearchBox:ub,showHelp:kb,animations:i.animations,animate:cc,language:i.currentLang,showThumbs:fb,biggerFonts:xb,smallerFonts:yb,print:tb,onSlideEnter:Ob,onSlideExit:Pb,onSlideUndo:Rb,onSlideDoes:Qb,viewport:ec,rotate:fc,goToSlide:Yb,enableRemote:ic,remote:{},getSlides:lc,getValidSlides:V,getCurrentSlide:mc,getAlertAtTimes:nc,getStartedAt:oc,getNextSlide:Vb,getPrevSlide:Ub,setProfile:U,lock:gc,unlock:kc,setCurrentPath:Zb,isLocked:function(){return i.locked},get:pc,set:qc,Facebook:!0,Google:!0,pushState:_b,getPPWPath:I}}(window.jQuery,document,window.console);